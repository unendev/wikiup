# 应用名称
spring.application.name=rag-service
server.port=8080

# 允许Bean定义覆盖
spring.main.allow-bean-definition-overriding=true

# 嵌入模型配置
model.url=djl://ai.djl.huggingface.pytorch/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2

# 知识库路径
knowledge.base.path=backend/data/dst

# 文本分块配置
text.chunk.size=500
text.chunk.overlap=100
text.chunker.default=fixed-size

# LLM API配置
llm.api.url=https://api.deepseek.com/v1/chat/completions
llm.api.key=${DEEPSEEK_API_KEY:sk-8857c670cbb04d049a291641e71fb1c8}
llm.model=deepseek-chat
llm.mock.enabled=false
llm.temperature=0.7
llm.max_tokens=2000

# 向量数据库配置
vector.db.file=backend/data/vector_db.dat
vector.db.use.disk=true

# JWT配置
jwt.secret=WikiUpSecretKey12345678901234567890
jwt.expiration=86400000
jwt.issuer=wikiup-auth-service

# CORS配置
cors.allowed-origins=*
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=Authorization,Content-Type,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers
cors.exposed-headers=Authorization,Content-Disposition
cors.allow-credentials=true
cors.max-age=3600

# WebSocket 配置
spring.websocket.enabled=true

# MySQL数据库配置
spring.datasource.url=jdbc:mysql://localhost:3306/wikiup?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP连接池配置
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000

# JPA配置
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
