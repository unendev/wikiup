### **【V3.0 增强版】MVP实施计划: "wiki上位"**

#### **目标**
本计划旨在指导"wiki上位"项目MVP的开发。MVP的核心目标是：基于一个**遵循预定规范、手动创建**的游戏知识库，实现一个**有量化质量评估、可迭代优化**的高质量RAG智能问答机器人，并部署上线供早期用户测试。

---

#### **阶段零：基础建设与评测体系搭建 (预计时间: 1周)**
*核心思想：将数据处理视为核心研发，并建立量化评估的北极星指标。*

| 任务ID | 任务描述 | 关键技术/依赖 | 产出物 |
|---|---|---|---|
| 0.1 | **数据深度探索与规范定稿** | Python, Jupyter Notebook | 针对目标游戏Wiki进行探索性数据分析(EDA)；最终版`.md`格式规范文档(强调KISS原则，优先使用YAML) |
| 0.2 | **构建"黄金标准"评测集** | - | 一个包含50-100个代表性问题的评测文件(JSON/CSV)，每个问题标注了理想答案和相关的原文片段 |
| 0.3 | **搭建自动化评估框架** | RAGAs, TruLens等框架 | 一个可以输入问题、上下文、生成答案，并输出量化评估指标(如忠实度、答案相关性等)的脚本 |

---

#### **阶段一：V0.1 - 核心RAG管道打通 (预计时间: 1周)**
*核心思想：小步快跑，快速验证最简可行产品，降低风险。*

| 任务ID | 任务描述 | 关键技术/依赖 | 产出物 |
|---|---|---|---|
| 1.1 | **开发Markdown数据源解析与分块器** | Python, `markdown-it-py`, `PyYAML` | 一个能将`.md`文件精准解析为带有丰富元数据(来源、标题、章节)的结构化知识块列表的核心函数 |
| 1.2 | **搭建基础Web框架与数据加载流程** | Python/FastAPI | 可运行的HTTP服务，能在启动时加载并处理知识库文件 |
| 1.3 | **集成基础Embedding与向量检索** | `Sentence-Transformers`, ChromaDB | 将知识块向量化并存入内存数据库；一个最简的向量搜索函数 |
| 1.4 | **构建V0.1 RAG核心API (仅向量搜索)** | DeepSeek API | `/api/ask/v0.1` 端点，实现 Query -> Embedding -> Vector Search -> LLM -> Answer 的基础流程 |
| 1.5 | **使用评测集进行基准测试** | 阶段零的评测框架 | 一份V0.1版本的核心指标评估报告，作为后续优化的基线 |

---

#### **阶段二：V0.2 - 高级RAG管道与前端开发 (预计时间: 2周)**
*核心思想：在V0.1基础上，增加高级模块提升质量，并开发用户可交互的前端。*

| 任务ID | 任务描述 | 关键技术/依赖 | 产出物 |
|---|---|---|---|
| 2.1 | **集成混合搜索与重排器 (Re-ranker)** | BM25库, `bge-reranker-large` | 升级RAG管道，结合关键词与向量搜索，并用Cross-encoder进行重排，提升检索精度 |
| 2.2 | **构建V0.2 RAG核心API** | DeepSeek API | `/api/ask/v0.2` 端点，返回更高质量的答案，并使用评测集证明其相较于V0.1的提升 |
| 2.3 | **初始化前端项目与核心对话界面** | Vue/React, Tailwind CSS | 包含输入框、消息流、加载状态的聊天UI |
| 2.4 | **开发答案展示与引用组件** | Markdown渲染库 | 能美观展示**流式**答案，并清晰列出**可点击的、带标题的**引用来源的组件 |
| 2.5 | **完成前后端API对接** | `axios` / `fetch` / `EventSource` | 实现前后端数据交互，获取并实时展示问答结果 |

---

#### **阶段三：部署与反馈闭环 (预计时间: 0.5周)**

| 任务ID | 任务描述 | 关键技术/依赖 | 产出物 |
|---|---|---|---|
| 3.1 | **部署后端服务与前端应用** | Docker, Vercel/Netlify | 线上可访问的Web应用与API |
| 3.2 | **最终端到端测试** | 黄金评测集 | 一份最终版的测试报告，确保线上质量符合预期 |
| 3.3 | **实现用户反馈数据库** | - | 前端增加"点赞/点踩"按钮，并将反馈数据(问题、答案、上下文、评价)存入**专用数据库**，用于迭代分析 |

---

#### **后续步骤**
-   邀请早期用户进行内测，收集**结构化反馈**，持续迭代优化RAG管道。
-   撰写并发布面向社区的"知识库贡献指南" V1.0。
-   基于RFC中的远景规划，设计V2.0路线图，包含创作者账户系统、知识库市场等。